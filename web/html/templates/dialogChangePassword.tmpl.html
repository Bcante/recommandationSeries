<md-dialog aria-label="Change password" class="dialogPassword">
    <md-dialog-content>
        <h2 class="md-display-1 md-padding" md-colors="{color: 'primary'}">Change Password</h2>
        <form name="modificationForm" ng-submit="modification()">
            <md-input-container class="md-block dialogPasswordInput">
                <md-icon>lock_outline</md-icon>
                <label>Current Password</label>
                <input ng-model="modification.currentPassword" name="currentPassword" type="password" required>
                <div ng-messages="modificationForm.currentPassword.$error">
                    <div ng-message="required">This is required.</div>
                </div>
            </md-input-container>

            <md-input-container class="md-block dialogPasswordInput">
                <md-icon>lock</md-icon>
                <label>New Password</label>
                <input ng-minlength="8" ng-pattern="/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/" ng-model="modification.password" name="password" type="password" required>
                <md-icon ng-mouseover="usernamePassword=true" ng-mouseleave="usernamePassword=false">help</md-icon>
                <div ng-messages="modificationForm.password.$error">
                    <div ng-message="required">This is required.</div>
                    <div ng-message="pattern">Password do not match with pattern.</div>
                    <div ng-message="minlength">Password is too short.</div>
                </div>
                <span ng-show="usernamePassword" md-colors="{color:'blue'}">8 chars minimum. Must contains at least 1 digit, 1 lowercase and 1 uppercase.</span>
            </md-input-container>

            <md-input-container class="md-block dialogPasswordInput">
                <md-icon>lock</md-icon>
                <label>Confirm password</label>
                <input ng-model="modification.confirm_password" type="password" name="confirm_password" required equals-to="modificationForm.password" />
                <div ng-messages="modificationForm.confirm_password.$error">
                    <div ng-message="required">This is required.</div>
                    <div ng-message="equalsTo">Password are differents.</div>
                </div>
            </md-input-container>

            <md-card-actions>
                <md-button ng-click="cancel()">
                    Cancel
                </md-button>
                <md-button class="md-primary" ng-disabled="!modificationForm.$valid" ng-click="answer(modification.currentPassword, modification.password, modification.confirm_password)">
                    Change
                </md-button>
            </md-card-actions>
        </form>
    </md-dialog-content>
</md-dialog>